<!doctype html>
<html>

<head>
    <script>
        (function(w, d, s, l, i) {
            w[l] = w[l] || [];
            w[l].push({
                'gtm.start': new Date().getTime(),
                event: 'gtm.js'
            });
            var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s),
                dl = l != 'dataLayer' ? '&l=' + l : '';
            j.async = true;
            j.src =
                'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
            f.parentNode.insertBefore(j, f);
        })(window, document, 'script', 'dataLayer', 'GTM-T7TSN5K');
    </script>

    <title>Play Prodigy</title>
    <meta name="description" content="Amazing pets, epic battles and math practice. Prodigy, the no-cost math game where kids can earn prizes, go on quests and play with friends all while learning math." />
    <meta property="og:title" content="Play Prodigy" />
    <meta property="og:description" content="Amazing pets, epic battles and math practice. Prodigy, the no-cost math game where kids can earn prizes, go on quests and play with friends all while learning math." />
    <meta name="twitter:title" content="Play Prodigy" />
    <meta name="twitter:description" content="Amazing pets, epic battles and math practice. Prodigy, the no-cost math game where kids can earn prizes, go on quests and play with friends all while learning math." />
    <link rel="stylesheet" type="text/css" href="https://code.prodigygame.com/assets/styles/error-a36dfdf098.css">


    <script>
        // Do this first so that errors for all subsequent executed code is captured

        var prodigyServiceUrl = 'https://api.prodigygame.com/';
        var prodigyEducationFrontendAssetsUrl = '';
        var prodigyWebUrl = 'https://www.prodigygame.com/';
        var prodigyUrlPrefix = '/';
        var gameStatusDataStr = '{"ServerGameVersion":"1.0.0","maintenance":false,"maintenanceMessage":"Prodigy Math will be back shortly. Please try again in a couple of minutes.","gameClientVersion":"6.190.0","gameLibPath":"https://code.prodigygame.com/lib/","gameCodePath":"https://code.prodigygame.com/code/6.190.0/","prodigyGameFlags":{"experimentLE3LaneB":true,"autoAttackDisabled":true,"isDatadogRumEnabled":true,"videoLessonInstantWin":false,"synapseMultiplayerJoinEnabled":false,"enableEducationApiJwtAuth":true,"gameDataPath":"https://cdn.prodigygame.com/game/data/production/","parentAttachTrial":{"startDate":"March 14, 2019 00:00:00","endDate":"April 11, 2019 00:00:00","trialLengthDays":7,"exclusionLanes":[0,1,2,3,4,5,6,7,8,9]},"synapseMultiplayerTransformEnabled":false,"enabledEvents":{"login":true,"toy-event":false,"PVP":true,"epicAttacks":true,"pvp-season-reward":true,"game_complete":false,"game_complete_v3":false,"member-ad":true,"new-member":true,"survey-results":true,"create-character":true,"zone-event":true,"item-change-event":true,"conversion-funnel-event":true,"battle-start-type":true,"game_social":true,"game_social_v3":false,"game_source":true,"game_source_v3":false,"game_sink":true,"game_sink_v3":false,"game_avatar_v3":false,"game_mod":true,"game_battle_v3":false,"anonymous_game_complete_v3":false,"game_question_v3":false,"game_session_start":true,"game_avatar":true,"game_level_up":true,"game_discovery_v3":false,"education_lesson_encounter_v3":false,"education_question_interface_v3":false,"game_session_start_v3":false,"anonymous_game_discovery":true},"coOpTitanDisabled":false,"enableUserReportingButton":false,"launcher-datadogReplaySampleRate":0,"gameAssetsVersion":270,"setFest":0,"showClassCodeOnLogin":true,"loader-gameClientOverride":false,"titanShardMultiplier":{"startDate":"2021-11-02T12:00:00.000Z","endDate":"2021-11-08T05:00:00.000Z","bonusMultiplier":2},"useServerTimeForVideoLockout":true,"synapseMultiplayerChatEnabled":false,"enableElementalGuardianZone":true,"experimentLE2":false,"disableTrialMembership":true,"classCodePromptCurriculumBlacklist":[7,68],"gameAssetsMetaDataPath":"https://code.prodigygame.com/assets","synapseMultiplayerMoveEnabled":false,"launcher-performEarlyAccessCheck":false,"synapseMultiplayerInfoEnabled":false,"experimentLE3LaneC":false,"allOutAttackDisabled":false,"enableYouTubeTimeCheck":false,"disableMembershipVideoAdDuringSchoolHours":false,"loader-windowVarBlacklist":["hack"],"ultimates":true,"synapseMultiplayerMigrationEnabled":false,"petEvolutionGiftThreshold":5,"useNewAnswersURL":true,"enableReporting":{"houseReportButton":true,"playerCardReportButton":true},"enableVerboseGameServer":false,"pwaEnabled":true,"gameServerRollout":0,"enableYouTubeAd":true,"removeAssets":true,"allowRevampBattles":true,"debugPassword":"13v2HAqV9UOokid/55dedg==","enableMembershipVideoAd":true,"synapseCoopTitanEnabled":false,"petXPBoostEnabled":true,"splashScreen":"singleImage-293","recordingFeatures":{"archives-run":false,"post-tutorial":false},"loader-gameCodePathOverride":"https://code.prodigygame.com/code/5.3.0/","synapseMultiplayerFXEnabled":false,"morePetsInShopsExperimentNewLabelExpiry":1639544400000,"useCatalystSDK":["interactables.getCooldowns","interactables.setCooldown","arena.getCurrentSeason"],"showClassCodeInOptionsMenu":true,"sentrySampleRate":0.01,"surveyCheckIntervalMinutes":1,"showClassCodeOnLoginIfNotInAClass":true,"disableParentAttach5":true,"launcher-datadogSessionSampleRate":1,"launcher-errorPlatform":"datadog","googleLoginSettings":{"amazon":false,"google":false},"mobileProductOverride":"prodigy_math_yearly_ultimate","analyticsEventBlockList":["Interface Closed",{"event":"Button Clicked","button_name":"x-button"},"Battle Interface Clicked"],"launcher-bypassSelectionScreen":false,"lockoutTrial":{"startDate":"July 3, 2019 00:00:00","endDate":"July 19, 2019 00:00:00","trialLengthDays":7},"gameDataVersion":2348,"datadogRumSampleRate":1,"xpMultiplier":{"startDate":"2021-04-08T13:00:00.000Z","endDate":"2021-04-12T13:00:00.000Z","zone":"skywatch","bonusMultiplier":2},"loader-allowedIps":["72.138.70.204"],"loader-gameDataVersionOverride":0,"synapseMultiplayerChangeAppearanceEnabled":false,"showMembershipPromptsAtSchool":true,"enableVerboseAnalytics":false,"localAssetsVersion":5,"loader-newMembershipFlow":true,"enableStoreGearStatsView":true,"loader-allowedOverrideIps":true,"multiplayerClusterLocations":[{"ID":1,"url":"https://multiplayer-1.prodigygame.com/","path":"/multiplayer-api/socket.io/"},{"ID":2,"url":"https://multiplayer-2.prodigygame.com/","path":"/multiplayer-api/socket.io/"},{"ID":3,"url":"https://multiplayer-3.prodigygame.com/","path":"/multiplayer-api/socket.io/"},{"ID":4,"url":"https://multiplayer-4.prodigygame.com/","path":"/multiplayer-api/socket.io/"},{"ID":5,"url":"https://multiplayer-5.prodigygame.com/","path":"/multiplayer-api/socket.io/"}]}}';
        window.gameApiStatusData = JSON.parse(gameStatusDataStr);
        var gameEnvironmentVariablesStr = '{"prevEnvId":null,"loadAssetsFromPrevEnv":false,"multiplayerRootUrl":"https://websocket.prodigygame.com","experimentsAPIHost":"https://growthbook.pub.prodigygame.com","experimentsClientKey":"sdk-ekYP8pLiUaC0H2k"}';
        window.gameEnvironmentVariables = JSON.parse(gameEnvironmentVariablesStr);
        var eventDataStr = '{"uuid":"a2e8d162-1b9f-4ff5-9a64-4e190d5e937d","env":"production","version":"2.62.0","startEventTimestamp":1711517118331}';
        window.eventData = JSON.parse(eventDataStr);
        window.launcherUrl = 'https://play.prodigygame.com';
        window.legacyAssetMappingsURL = "https://code.prodigygame.com/assets/json/legacy-asset-mappings-c4229559d8.json";
        window.legacyPrefabMappingsURL = "https://code.prodigygame.com/assets/json/legacy-prefab-mappings-0409764503.json";
        window.legacyDuplicateAssetMappingsURL = "https://code.prodigygame.com/assets/json/legacy-duplicate-asset-mappings-7dbfb94930.json";
        //set for workers path discovery in the game file
        window.gameCodeFile = 'https://code.prodigygame.com/code/6.190.0/game.min.js?v=6.190.0';
        window.preserveUrls = false;
    </script>

    <script>
        ((function() {
            var originalClearTimeout = window.clearTimeout.bind(window);
            var originalClearInterval = window.clearInterval.bind(window);
            var wvb = ["hack"];
            var length = wvb.length;

            var protectedId = setInterval(() => {
                for (var i = 0; i < length; ++i) {
                    if (wvb[i] in window) {
                        window.location = '/404';
                    }
                }
            }, 1000);

            window.clearInterval = function(id) {
                if (id == protectedId) return;
                return originalClearInterval(id);
            }

            window.clearTimeout = function(id) {
                if (id == protectedId) return;
                return originalClearTimeout(id);
            }
        })());
    </script>

    <script src="https://code.prodigygame.com/js/load-game-717e52ec15.min.js?v=1" crossorigin="anonymous" integrity="sha512-FuMjZdbJRm8q8pIXs2supB/Ks9YstZJjI8HTXlHMzRWacJ9Q3Ar6FmVFUjD7dEpbCADzDWbJ0JihyQK0yvrMfg=="></script>
    <script src="https://code.prodigygame.com/js/load-utils-1e824ff6df.min.js?v=1" crossorigin="anonymous" integrity="sha512-2GOY1MZOp3g2WKFA2pVOn8ZM2ejn2BOEy9Wb5egroptPO2LQ/KieNcBZSgALJIvmMqUbCtoP447zA7MxIjkakQ=="></script>
    <script src="https://code.prodigygame.com/js/storage-8cb1f023c7.min.js?v=1" crossorigin="anonymous" integrity="sha512-FQTOXf9VyFAzmc/hHxr6LVOu30+MyeFxuMwFdhmo7U/bFXalLGIhKCzPpuEsXINyFbXlvPTa/VqQ4MRWbJCVEA=="></script>

    <script>
        SW.Load.init();
    </script>

    <meta charset="UTF-8" />
    <meta content='width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />

    <link rel="preload" href="https://code.prodigygame.com/lib/easystar-c4a409057f.min.js?v=1" crossorigin="anonymous" integrity="sha512-RxvuGN2krcsWFpyqqzoQ3BsFfJOqLY+Fpfth9y24AuhgczJq8/4YPqcp/cpnB89mhe37xVjnhm5JlEESqHgi8Q==" as="script">
    <link rel="preload" href="https://code.prodigygame.com/lib/inversify-2c041508d4.min.js?v=1" crossorigin="anonymous" integrity="sha512-4T92M8ASea26swmMdfyWpiEBY/eC9lMkQCFyDuBRF3RshMdaJkPcoRI+2jtx5/LvQL8xegH4Nr4SD0xJykbKFQ==" as="script">
    <link rel="preload" href="https://code.prodigygame.com/lib/webfont-9ea87c57dc.min.js?v=1" crossorigin="anonymous" integrity="sha512-5zJOkNfDssivx6fT2Yxz93kq60epMb4xgY5clLjJlZqrc09mhntBls+OY3TQ5mJJcel8pzFnWTQN3P7b5rTP6w==" as="script">
    <link rel="preload" href="https://code.prodigygame.com/lib/crypto-core-1b15c3f6cc.min.js?v=1" crossorigin="anonymous" integrity="sha512-o7sqE3H6i5jonvmFiKnpieJJFJ8yAiq9ojqQGrxt+Jm1jKxM7Vh7Hvu5nxBMLODDciB+VIwCW27ZnPQCjW5ptw==" as="script">
    <link rel="preload" href="https://code.prodigygame.com/lib/lz-string-56881ebd3b.min.js?v=1" crossorigin="anonymous" integrity="sha512-H65l9V2YEHljvaKtFD4KDzE35rBbaOygaMMOCpcapssbw1hkaBdj8XtpWp5GJcJDduufbStwoBuzgGezPPpbXg==" as="script">

    <script src="https://code.prodigygame.com/lib/lodash-dc1f2c81cb.min.js"></script>

    <script src="https://code.prodigygame.com/js/analytics-cc40bc3d40.min.js?v=1" crossorigin="anonymous" integrity="sha512-yELC2Yh2+nC/k5thx8EsAbfpJ4WbUPLhjKoijcRv2cvj8IyQYbPeytPo/B71/5hODV0yEcHMIC5VgwKiDsxTQg=="></script>
    <script>
        SW.Analytics.initSegment('E9hHXKVqdHVyaHyatjqtiWRgqTRrkGeP', true, 'https://client-event-publisher.pub.prodigygame.com');
    </script>

    <script>
        SW.Load.getEducationStatus();
        SW.Load.loadAssetsMappingJSON();
        SW.Load.loadPrefabMappingJSON();
        SW.Load.loadDuplicateAssetsMappingJSON();
    </script>

    <script src="https://code.prodigygame.com/lib/jquery-8e6cae499d.min.js?v=1" crossorigin="anonymous" integrity="sha512-kBbKs67y3v3KVR5YvefwJGmowvD9uRcL/SOJBf0KW5QhBIMOjQIqNoCFYkdOXlIB1Z53AzIxW8hwuMmGDxlKdg=="></script>
    <script src="https://code.prodigygame.com/lib/async-f6dfa1eb49.min.js?v=1" crossorigin="anonymous" integrity="sha512-yEnf2O+pLm8J799TeI7+jCX6I6luWOURKwNS/Yc8LKahHAkKB/O3ONytfj1URgAFrzPWjNGegk5gN49CicwvtQ=="></script>
    <script src="https://code.prodigygame.com/lib/deviceatlas-ee5a3ee386.min.js?v=1" crossorigin="anonymous" integrity="sha512-uFzwWvlxXaV3ilkydb861LIDpKF4vGbzJdYvP09XQ0gnqzCMjEV0AFtG/yLrFQfwCJIwN7dQzLTyDRwDHYvOFw=="></script>

    <!-- Parental Gate script (after jquery) -->
    <script src="https://code.prodigygame.com/js/gate-7f4d79bf79.min.js?v=1" crossorigin="anonymous" integrity="sha512-tNsuCpDd445avoKqRzSG/Whtvy8WB8DAM/UAqBtWFslwVtzt9A+4k5QL/kftVvfUlOXM/z4tfHtYMi6F/FIlKw=="></script>
    <!-- Email form script (after jquery) -->
    <script src="https://code.prodigygame.com/js/email-form-cad29fa1d3.min.js?v=1" crossorigin="anonymous" integrity="sha512-um9TK4H7ibGXzm9lPBD14poqOS7x+jGCzEHLUS7tw8qbpvonoTLxpislXBTyCL8N3TptUwYGCx54bg5OgxWPVw=="></script>

    <script>
        SW.Load.getDeviceInformationFromAPI();
    </script>

    <script src="https://code.prodigygame.com/lib/pixi-31cb76f25c.min.js?v=1" crossorigin="anonymous" integrity="sha512-OBm2pZOco2PytFtD8SJ/oTw2fqdU2tjvINyrACAyzpFMYHvpmmQlLuxVxaaHnTNdZc6zkOa5bI4YmnWzoLk/WA=="></script>

    <script src="https://code.prodigygame.com/lib/backbone-d0ea511e08.min.js?v=1" crossorigin="anonymous" integrity="sha512-hK/WH4nlOmcWX8JWhlkNjVKlBbEw4QZ6GKWy5zEBv5YIF8wZHaKxB3efpMkQ8gZnk7xETfkUxG9mGwwYLz2Xsw=="></script>
    <script src="https://code.prodigygame.com/lib/prodigy-experiments-044dbb4a12.min.js?v=1" crossorigin="anonymous" integrity="sha512-Lky20LyOHD6sJczZ0bjZmz9bCGDHLTnr5OUgduppWeuJmpZvCbK247/SZI/E/fnlCm/qcrtmZdgZ18NG2U3nxg=="></script>

    <meta name="msapplication-tileimage" content="https://code.prodigygame.com/assets/favicon/ms-icon-144x144-3d29f3e2c4.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://code.prodigygame.com/assets/favicon/favicon-32x32-011b651372.png">
    <link rel="icon" type="image/png" sizes="96x96" href="https://code.prodigygame.com/assets/favicon/favicon-96x96-606ff1e435.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://code.prodigygame.com/assets/favicon/favicon-16x16-ad4c2f1145.png">
    <link rel="manifest" href="https://code.prodigygame.com/assets/favicon/manifest-24d7a48912.json">

    <link rel="stylesheet" href="https://code.prodigygame.com/assets/Font-Awesome/css/font-awesome-bb53ad7bff.min.css">
    <link rel="stylesheet" type="text/css" href="https://code.prodigygame.com/assets/styles/main-8920cc59bb.css">
    <link rel="stylesheet" type="text/css" href="https://code.prodigygame.com/assets/styles/play-0429ae068f.css">
    <link rel="stylesheet" type="text/css" href="https://code.prodigygame.com/assets/styles/error-a36dfdf098.css">
    <link rel="stylesheet" type="text/css" href="https://code.prodigygame.com/assets/styles/gate-88eef58a4e.css">

    <link href='https://fonts.googleapis.com/css?family=Lato:400,700,900,400italic' rel='stylesheet' type='text/css' async>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,300,400,500,600,700' rel='stylesheet' type='text/css' async>
    <link href="https://fonts.googleapis.com/css?family=Fredoka+One|Luckiest+Guy|Paytone+One|ABeeZee" rel="stylesheet" async>

    <style>
        #game-container {
            height: 100%;
            min-height: 100px;
        }
        
        @media screen and (min-height: 320px) {
            #game-container {
                min-height: 200px;
            }
        }
        
        @media screen and (min-height: 720px) {
            #game-container {
                min-height: 500px;
            }
        }
        
        #game-wrapper {
            height: 100%;
            position: relative;
            touch-action: none;
        }
        
        iframe {
            display: none;
        }
        
        .game-page-overlay iframe {
            display: block;
            height: 100%;
            width: 100%;
            border: none;
        }
        
        .game-loading__font {
            top: 112px;
        }
        
        .game-loading__font div {
            white-space: nowrap;
            display: inline-block;
            overflow: hidden;
            margin: 0 auto;
            font-family: ABeeZee;
            font-size: 16px;
            color: #363630;
        }
        
        .loading-logo {
            width: 123px;
            height: 40px;
            margin: auto;
            display: block;
        }
        
        #loading-div {
            width: 389px;
            height: 200px;
            margin: auto;
            background-image: url('data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgd2lkdGg9IjM4OXB4IiBoZWlnaHQ9IjIwMHB4IiBzdHlsZT0ic2hhcGUtcmVuZGVyaW5nOmdlb21ldHJpY1ByZWNpc2lvbjsgdGV4dC1yZW5kZXJpbmc6Z2VvbWV0cmljUHJlY2lzaW9uOyBpbWFnZS1yZW5kZXJpbmc6b3B0aW1pemVRdWFsaXR5OyBmaWxsLXJ1bGU6ZXZlbm9kZDsgY2xpcC1ydWxlOmV2ZW5vZGQiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KPGc+PHBhdGggc3R5bGU9Im9wYWNpdHk6MSIgZmlsbD0iIzkwNTEwOCIgZD0iTSA0LjUsLTAuNSBDIDEzMC44MzMsLTAuNSAyNTcuMTY3LC0wLjUgMzgzLjUsLTAuNUMgMzg0LjE2NywwLjE2NjY2NyAzODQuODMzLDAuODMzMzMzIDM4NS41LDEuNUMgMzg0LjgzMywxLjUgMzg0LjE2NywxLjUgMzgzLjUsMS41QyAyNTcuMTY3LDEuNSAxMzAuODMzLDEuNSA0LjUsMS41QyAzLjgzMzMzLDEuNSAzLjE2NjY3LDEuNSAyLjUsMS41QyAzLjE2NjY3LDAuODMzMzMzIDMuODMzMzMsMC4xNjY2NjcgNC41LC0wLjUgWiIvPjwvZz4KPGc+PHBhdGggc3R5bGU9Im9wYWNpdHk6MSIgZmlsbD0iI2ZlOTcxMSIgZD0iTSA0LjUsMS41IEMgMTMwLjgzMywxLjUgMjU3LjE2NywxLjUgMzgzLjUsMS41QyAzODQuODQxLDMuODM0MTkgMzg0LjE3NCw1LjUwMDg2IDM4MS41LDYuNUMgMjU2LjUsNy44MzMzMyAxMzEuNSw3LjgzMzMzIDYuNSw2LjVDIDMuODI1ODYsNS41MDA4NiAzLjE1OTE5LDMuODM0MTkgNC41LDEuNSBaIi8+PC9nPgo8Zz48cGF0aCBzdHlsZT0ib3BhY2l0eToxIiBmaWxsPSIjNWMzNDA0IiBkPSJNIDIuNSwxLjUgQyAxLjM0NDg3LDYxLjQ3MTYgMS4xNzgyLDEyMS40NzIgMiwxODEuNUMgNi4yNDczMiwxODMuMjI1IDYuNDEzOTksMTg0Ljg5MSAyLjUsMTg2LjVDIDEuNzA5NTEsMTg1LjU5OSAwLjcwOTUxNSwxODQuOTMyIC0wLjUsMTg0LjVDIC0wLjUsMTI0LjUgLTAuNSw2NC41IC0wLjUsNC41QyAwLjI3MTg3MywzLjMwNjQ2IDEuMjcxODcsMi4zMDY0NiAyLjUsMS41IFoiLz48L2c+CjxnPjxwYXRoIHN0eWxlPSJvcGFjaXR5OjEiIGZpbGw9IiNjYzczMDAiIGQ9Ik0gNi41LDYuNSBDIDEzMS41LDcuODMzMzMgMjU2LjUsNy44MzMzMyAzODEuNSw2LjVDIDM4MS41LDU1LjgzMzMgMzgxLjUsMTA1LjE2NyAzODEuNSwxNTQuNUMgMzgwLjUwMywxMzYuMzQxIDM4MC4xNywxMTguMDA4IDM4MC41LDk5LjVDIDM3Ny44MzMsOTkuNSAzNzUuMTY3LDk5LjUgMzcyLjUsOTkuNUMgMzcyLjY2Nyw3Ni4xNjQzIDM3Mi41LDUyLjgzMSAzNzIsMjkuNUMgMzY3LjUsMjUgMzYzLDIwLjUgMzU4LjUsMTZDIDM1NC4xNTMsMTQuODQ5MyAzNTAuMzE5LDE1LjY4MjcgMzQ3LDE4LjVDIDM0NS41NjYsMTguMDY5NiAzNDQuMzk5LDE3LjIzNjIgMzQzLjUsMTZDIDI0MC44MzMsMTUuMzMzMyAxMzguMTY3LDE1LjMzMzMgMzUuNSwxNkMgMzQuODA5NSwxNy4wNjc0IDM0LjMwOTUsMTguMjM0MSAzNCwxOS41QyAzMC4zMzk4LDE1LjYzMjYgMjUuODM5OCwxNC40NjYgMjAuNSwxNkMgMTguMzMzMywxNi44MzMzIDE2LjgzMzMsMTguMzMzMyAxNiwyMC41QyAxNS41LDQ2LjgzMTIgMTUuMzMzNCw3My4xNjQ2IDE1LjUsOTkuNUMgMTIuODMzMyw5OS41IDEwLjE2NjcsOTkuNSA3LjUsOTkuNUMgNy44MzAxOCwxMTguMDA4IDcuNDk2ODQsMTM2LjM0MSA2LjUsMTU0LjVDIDYuNSwxMDUuMTY3IDYuNSw1NS44MzMzIDYuNSw2LjUgWiIvPjwvZz4KPGc+PHBhdGggc3R5bGU9Im9wYWNpdHk6MSIgZmlsbD0iIzkxNTIwMCIgZD0iTSAyLjUsMS41IEMgMy4xNjY2NywxLjUgMy44MzMzMywxLjUgNC41LDEuNUMgMy4xNTkxOSwzLjgzNDE5IDMuODI1ODYsNS41MDA4NiA2LjUsNi41QyA2LjUsNTUuODMzMyA2LjUsMTA1LjE2NyA2LjUsMTU0LjVDIDYuMTcxNDUsMTY3LjAxMSA2LjUwNDc4LDE3OS4zNDUgNy41LDE5MS41QyA3LjUsMTkxLjgzMyA3LjUsMTkyLjE2NyA3LjUsMTkyLjVDIDUuNzU0MDUsMTk0LjI1MiAzLjc1NDA1LDE5NS41ODUgMS41LDE5Ni41QyAxLjI1MjkzLDE5My4wNjEgMS41ODYyNywxODkuNzI4IDIuNSwxODYuNUMgNi40MTM5OSwxODQuODkxIDYuMjQ3MzIsMTgzLjIyNSAyLDE4MS41QyAxLjE3ODIsMTIxLjQ3MiAxLjM0NDg3LDYxLjQ3MTYgMi41LDEuNSBaIi8+PC9nPgo8Zz48cGF0aCBzdHlsZT0ib3BhY2l0eToxIiBmaWxsPSIjOGU1MDAwIiBkPSJNIDM4My41LDEuNSBDIDM4NC4xNjcsMS41IDM4NC44MzMsMS41IDM4NS41LDEuNUMgMzg2LjkwNiwxLjk3MzA2IDM4Ny41NzMsMi45NzMwNiAzODcuNSw0LjVDIDM4Ny44MzMsNjMuNTAzOCAzODcuNSwxMjIuNTA0IDM4Ni41LDE4MS41QyAzODQuMTg1LDE4Mi4xNiAzODIuNTE5LDE4My40OTMgMzgxLjUsMTg1LjVDIDM4MS41LDE3NS4xNjcgMzgxLjUsMTY0LjgzMyAzODEuNSwxNTQuNUMgMzgxLjUsMTA1LjE2NyAzODEuNSw1NS44MzMzIDM4MS41LDYuNUMgMzg0LjE3NCw1LjUwMDg2IDM4NC44NDEsMy44MzQxOSAzODMuNSwxLjUgWiIvPjwvZz4KPGc+PHBhdGggc3R5bGU9Im9wYWNpdHk6MSIgZmlsbD0iIzE0MTQxNCIgZD0iTSAzNzIuNSw5OS41IEMgMzcyLjY2NywxMTguNTAzIDM3Mi41LDEzNy41MDMgMzcyLDE1Ni41QyAzNzAuOTMzLDE1Ny4xOTEgMzY5Ljc2NiwxNTcuNjkxIDM2OC41LDE1OEMgMzcyLjE2NSwxNjEuMjk4IDM3My40OTgsMTY1LjQ2NSAzNzIuNSwxNzAuNUMgMzY5LjU5OCwxNzQuOTAxIDM2NS40MzIsMTc2LjU2OCAzNjAsMTc1LjVDIDM1NS4zMzgsMTc2LjI4NyAzNTEuNTA0LDE3NC45NTQgMzQ4LjUsMTcxLjVDIDM0Ny4wMTksMTcyLjQ4IDM0NS42ODUsMTczLjY0NyAzNDQuNSwxNzVDIDI0My41LDE3NS42NjcgMTQyLjUsMTc1LjY2NyA0MS41LDE3NUMgNDAuNjQ2LDE3My45NzggMzkuNjQ2LDE3My4xNDUgMzguNSwxNzIuNUMgMzYuMDY2OSwxNzUuMjQyIDMzLjA2NjksMTc2LjA3NSAyOS41LDE3NUMgMjQuOTY0NSwxNzAuMjk3IDIwLjI5NzksMTY1Ljc5NyAxNS41LDE2MS41QyAxNS41LDE0MC44MzMgMTUuNSwxMjAuMTY3IDE1LjUsOTkuNUMgMTUuMzMzNCw3My4xNjQ2IDE1LjUsNDYuODMxMiAxNiwyMC41QyAxNi44MzMzLDE4LjMzMzMgMTguMzMzMywxNi44MzMzIDIwLjUsMTZDIDI1LjgzOTgsMTQuNDY2IDMwLjMzOTgsMTUuNjMyNiAzNCwxOS41QyAzNC4zMDk1LDE4LjIzNDEgMzQuODA5NSwxNy4wNjc0IDM1LjUsMTZDIDEzOC4xNjcsMTUuMzMzMyAyNDAuODMzLDE1LjMzMzMgMzQzLjUsMTZDIDM0NC4zOTksMTcuMjM2MiAzNDUuNTY2LDE4LjA2OTYgMzQ3LDE4LjVDIDM1MC4zMTksMTUuNjgyNyAzNTQuMTUzLDE0Ljg0OTMgMzU4LjUsMTZDIDM2MywyMC41IDM2Ny41LDI1IDM3MiwyOS41QyAzNzIuNSw1Mi44MzEgMzcyLjY2Nyw3Ni4xNjQzIDM3Mi41LDk5LjUgWiIvPjwvZz4KPGc+PHBhdGggc3R5bGU9Im9wYWNpdHk6MSIgZmlsbD0iI2I1NjYwMCIgZD0iTSAxNS41LDk5LjUgQyAxNS41LDEyMC4xNjcgMTUuNSwxNDAuODMzIDE1LjUsMTYxLjVDIDE1LjMzNTksMTY0LjE4NyAxNS41MDI2LDE2Ni44NTQgMTYsMTY5LjVDIDE5LjcwMzksMTczLjAzNiAyMy4yMDM5LDE3Ni43MDIgMjYuNSwxODAuNUMgMjAuMTY2NywxODAuNSAxMy44MzMzLDE4MC41IDcuNSwxODAuNUMgNy41LDE4NC4xNjcgNy41LDE4Ny44MzMgNy41LDE5MS41QyA2LjUwNDc4LDE3OS4zNDUgNi4xNzE0NSwxNjcuMDExIDYuNSwxNTQuNUMgNy40OTY4NCwxMzYuMzQxIDcuODMwMTgsMTE4LjAwOCA3LjUsOTkuNUMgMTAuMTY2Nyw5OS41IDEyLjgzMzMsOTkuNSAxNS41LDk5LjUgWiIvPjwvZz4KPGc+PHBhdGggc3R5bGU9Im9wYWNpdHk6MSIgZmlsbD0iIzcwM2YwMCIgZD0iTSAxNS41LDE2MS41IEMgMjAuMjk3OSwxNjUuNzk3IDI0Ljk2NDUsMTcwLjI5NyAyOS41LDE3NUMgMzMuMDY2OSwxNzYuMDc1IDM2LjA2NjksMTc1LjI0MiAzOC41LDE3Mi41QyAzOS42NDYsMTczLjE0NSA0MC42NDYsMTczLjk3OCA0MS41LDE3NUMgMTQyLjUsMTc1LjY2NyAyNDMuNSwxNzUuNjY3IDM0NC41LDE3NUMgMzQ1LjY4NSwxNzMuNjQ3IDM0Ny4wMTksMTcyLjQ4IDM0OC41LDE3MS41QyAzNTEuNTA0LDE3NC45NTQgMzU1LjMzOCwxNzYuMjg3IDM2MCwxNzUuNUMgMzY1LjQzMiwxNzYuNTY4IDM2OS41OTgsMTc0LjkwMSAzNzIuNSwxNzAuNUMgMzczLjkyLDE4MC4yNDYgMzY5Ljc1NCwxODQuNTc5IDM2MCwxODMuNUMgMzU1LjMzOCwxODQuMjg3IDM1MS41MDQsMTgyLjk1NCAzNDguNSwxNzkuNUMgMzQ3LjAxOSwxODAuNDggMzQ1LjY4NSwxODEuNjQ3IDM0NC41LDE4M0MgMjQzLjUsMTgzLjY2NyAxNDIuNSwxODMuNjY3IDQxLjUsMTgzQyA0MC42NDYsMTgxLjk3OCAzOS42NDYsMTgxLjE0NSAzOC41LDE4MC41QyAzNC40NjQ5LDE4NC40OSAzMC40NjQ5LDE4NC40OSAyNi41LDE4MC41QyAyMy4yMDM5LDE3Ni43MDIgMTkuNzAzOSwxNzMuMDM2IDE2LDE2OS41QyAxNS41MDI2LDE2Ni44NTQgMTUuMzM1OSwxNjQuMTg3IDE1LjUsMTYxLjUgWiIvPjwvZz4KPGc+PHBhdGggc3R5bGU9Im9wYWNpdHk6MSIgZmlsbD0iI2FjNjEwMCIgZD0iTSAzNzIuNSw5OS41IEMgMzc1LjE2Nyw5OS41IDM3Ny44MzMsOTkuNSAzODAuNSw5OS41QyAzODAuMTcsMTE4LjAwOCAzODAuNTAzLDEzNi4zNDEgMzgxLjUsMTU0LjVDIDM4MS41LDE2NC44MzMgMzgxLjUsMTc1LjE2NyAzODEuNSwxODUuNUMgMzgxLjc1NiwxODcuNzkyIDM4MS40MjMsMTg5Ljk1OSAzODAuNSwxOTJDIDI1Ni4xNjcsMTkyLjUgMTMxLjgzNCwxOTIuNjY3IDcuNSwxOTIuNUMgNy41LDE5Mi4xNjcgNy41LDE5MS44MzMgNy41LDE5MS41QyA3LjUsMTg3LjgzMyA3LjUsMTg0LjE2NyA3LjUsMTgwLjVDIDEzLjgzMzMsMTgwLjUgMjAuMTY2NywxODAuNSAyNi41LDE4MC41QyAzMC40NjQ5LDE4NC40OSAzNC40NjQ5LDE4NC40OSAzOC41LDE4MC41QyAzOS42NDYsMTgxLjE0NSA0MC42NDYsMTgxLjk3OCA0MS41LDE4M0MgMTQyLjUsMTgzLjY2NyAyNDMuNSwxODMuNjY3IDM0NC41LDE4M0MgMzQ1LjY4NSwxODEuNjQ3IDM0Ny4wMTksMTgwLjQ4IDM0OC41LDE3OS41QyAzNTEuNTA0LDE4Mi45NTQgMzU1LjMzOCwxODQuMjg3IDM2MCwxODMuNUMgMzY5Ljc1NCwxODQuNTc5IDM3My45MiwxODAuMjQ2IDM3Mi41LDE3MC41QyAzNzMuNDk4LDE2NS40NjUgMzcyLjE2NSwxNjEuMjk4IDM2OC41LDE1OEMgMzY5Ljc2NiwxNTcuNjkxIDM3MC45MzMsMTU3LjE5MSAzNzIsMTU2LjVDIDM3Mi41LDEzNy41MDMgMzcyLjY2NywxMTguNTAzIDM3Mi41LDk5LjUgWiIvPjwvZz4KPGc+PHBhdGggc3R5bGU9Im9wYWNpdHk6MSIgZmlsbD0iIzUxMmUwNCIgZD0iTSAyLjUsMTg2LjUgQyAxLjU4NjI3LDE4OS43MjggMS4yNTI5MywxOTMuMDYxIDEuNSwxOTYuNUMgMC44MzMzMzMsMTk1LjgzMyAwLjE2NjY2NywxOTUuMTY3IC0wLjUsMTk0LjVDIC0wLjUsMTkyLjE2NyAtMC41LDE4OS44MzMgLTAuNSwxODcuNUMgMC4zOTEwNDcsMTg2Ljg5IDEuMzkxMDUsMTg2LjU1NyAyLjUsMTg2LjUgWiIvPjwvZz4KPGc+PHBhdGggc3R5bGU9Im9wYWNpdHk6MSIgZmlsbD0iIzViMzQwMSIgZD0iTSAzODcuNSw0LjUgQyAzODcuODMzLDQuNSAzODguMTY3LDQuNSAzODguNSw0LjVDIDM4OC41LDY0LjUgMzg4LjUsMTI0LjUgMzg4LjUsMTg0LjVDIDM4NC41LDE4NS41IDM4NC41LDE4Ni41IDM4OC41LDE4Ny41QyAzODguNSwxODkuODMzIDM4OC41LDE5Mi4xNjcgMzg4LjUsMTk0LjVDIDM4Ny4xNjcsMTk2LjUgMzg1LjUsMTk4LjE2NyAzODMuNSwxOTkuNUMgMjU3LjE2NywxOTkuNSAxMzAuODMzLDE5OS41IDQuNSwxOTkuNUMgMy4zMDY0NiwxOTguNzI4IDIuMzA2NDYsMTk3LjcyOCAxLjUsMTk2LjVDIDMuNzU0MDUsMTk1LjU4NSA1Ljc1NDA1LDE5NC4yNTIgNy41LDE5Mi41QyAxMzEuODM0LDE5Mi42NjcgMjU2LjE2NywxOTIuNSAzODAuNSwxOTJDIDM4MS40MjMsMTg5Ljk1OSAzODEuNzU2LDE4Ny43OTIgMzgxLjUsMTg1LjVDIDM4Mi41MTksMTgzLjQ5MyAzODQuMTg1LDE4Mi4xNiAzODYuNSwxODEuNUMgMzg3LjUsMTIyLjUwNCAzODcuODMzLDYzLjUwMzggMzg3LjUsNC41IFoiLz48L2c+Cjwvc3ZnPgo=');
            background-size: contain;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translateY(-50%) translateX(-50%);
        }
        
        #splash-image {
            width: 100%;
            height: 100%;
            padding-top: 0;
            background-repeat: round;
            background-size: cover;
        }
        
        .ed-progress-outline {
            height: 16px;
            width: 300px;
            background-color: #000000;
            border-radius: 4px;
            display: flex;
            align-items: center;
            padding: 0px 1px;
            margin: auto;
            position: relative;
            top: 50%;
        }
        
        .ed-progress-container {
            height: 14px;
            width: 298px;
            background-color: #FFFFFF;
            border-radius: 4px;
        }
        
        .ed-progress-bar {
            height: 14px;
            background-color: #000000;
            background-image: linear-gradient(#ff9000, #000000);
            border-radius: 4px;
            -webkit-transition: width 2.0s cubic-bezier(.23, 1, .32, 1);
            -moz-transition: width 2.0s cubic-bezier(.23, 1, .32, 1);
            transition: width 2.0s cubic-bezier(.23, 1, .32, 1);
        }
        
         :focus {
            outline: none !important;
        }
        
        @media only screen and (max-width: 768px) {
            /* For mobile phones: */
            #loading-div {
                width: 230px;
                height: 118px;
            }
            .loading-logo {
                width: 88px;
                height: 29px;
                position: relative;
                top: -11px;
            }
            .ed-progress-outline {
                height: 10px;
                width: 174px;
                border-radius: 4px;
            }
            .ed-progress-container {
                height: 8px;
                width: 172px;
                border-radius: 4px;
            }
            .ed-progress-bar {
                height: 8px;
                border-radius: 4px;
            }
            #bar-animation {
                border-radius: 4px;
            }
            .game-loading__font {
                top: 65px;
            }
            .game-loading__font div {
                font-size: 12px;
            }
        }
    </style>
</head>

<body>
    <noscript>
        <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-T7TSN5K" height="0" width="0" style="display:none;visibility:hidden"></iframe>
    </noscript>

    <!-- Parental gate -->
    <div id="parental-gate-container" style="display: none;">
        <form onsubmit="SW.Gate.onSubmit(event)">
            <div class="nav-container">
                <div class="nav-box nav-link" onclick="SW.Gate.onBack()">
                    <span><i class="fa fa-chevron-left" style="padding-right: 5px;"></i><span class="back-button-span">Back</span></span>
                </div>
                <div class="logo-container nav-box">
                    <img src="https://code.prodigygame.com/assets/svg/prodigy-logo-ea61172dba.svg">
                </div>
                <div class="nav-box nav-link" onclick="SW.Gate.onClose()">
                    <span><i class="fa fa-times"></i></span>
                </div>
            </div>
            <div id="form" class="form-content">
                <div class="title-container">
                    <div class="title-text">Get a parent to help</div>
                    <div class="purple-text">Hey parent, your child would like to sign up for a Prodigy membership.</div>
                </div>
                <div id="question-card" class="question-container">
                    <div class="question-title">Question:</div>
                    <div id="question" class="purple-text">
                        <!-- question here -->
                    </div>
                    <div id="options" class="answers-container">
                        <!-- options here-->
                    </div>
                    <div class="refresh-container">Change question? <u onclick="SW.Gate.refreshQuestion()">Refresh</u></div>
                </div>
                <div class="next-container">
                    <button class="next-button form-button" type="submit">Next</button>
                </div>
            </div>
            <div id="retry" class="form-content" style="display: none;">
                <div class="title-container">
                    <div class="title-text">Oh no, that was the incorrect answer<br/><br/>Please try again</div>
                </div>
                <div class="next-container">
                    <button onclick="SW.Gate.loadView()" class="form-button next-button">Retry</button>
                </div>
            </div>
        </form>
    </div>



    <!-- Email form -->
    <div id="eml-form-container" style="display: none;">
        <form id="" onsubmit="SW.EmailForm.onSubmit(event)">
            <div class="nav-container">
                <div class="logo-container nav-box">
                    <img src="https://code.prodigygame.com/assets/svg/prodigy-logo-ea61172dba.svg">
                </div>
            </div>
            <div id="eml-form" class="form-content">
                <div class="title-container">
                    <div class="title-text">One last step</div>
                    <div class="purple-text">
                        Unlock your own premium parent tools to track and get insights on your child's progress.
                    </div>
                </div>
                <div id="question-card" class="question-container">
                    <div class="question-title"><b>Parent Account Info</b></div>
                    <div class="input-container">
                        <label for="eml-form-name">Parent's full name</label>
                        <input id="eml-form-name" type="text" value="">
                        <label for="eml-form-email">Parent's email</label>
                        <input id="eml-form-email" type="text" value="">
                        <label for="eml-form-confirm">Confirm parent's email</label>
                        <input id="eml-form-confirm" type="text" value="">
                    </div>
                    <div id="eml-invalid-container" class="red-text" style="display: none;"></div>
                    <div class="eml-warning-container">* If you already have a parent account, use the same email here. We will send you child progress reports and your receipts. By submitting account information, you agree to <b><span onclick="SW.EmailForm.viewPrivacy()">Prodigy's Privacy Policy</span> and <span onclick="SW.EmailForm.viewTerms()">Terms of use.</span></b></div>
                </div>
                <div class="next-container">
                    <button id="eml-form-submit-button" class="next-button form-button" type="submit">Submit</button>
                </div>
                <div class="notice-container">
                    We respect your privacy and do not tolerate spam and will never sell, rent, lease or give away your information (name, address, email, etc.) to any third party.
                </div>
                <div class="skip-container">
                    <span class="back-button-span nav-link" onclick="SW.EmailForm.onClose()">Skip</span>
                    <div class="policy-container">
                        <span onclick="SW.EmailForm.viewPrivacy()">Privacy Policy</span> | <span onclick="SW.EmailForm.viewTerms()">Terms of Conditions</span>
                    </div>
                </div>
            </div>
            <div id="eml-form-submitted" class="form-content" style="display: none;">
                <div class="title-container">
                    <div class="title-text">Thank you</div>
                    <div class="title-text purple-text">
                        We sent you an email with all the info you need to sign up for your free parent account...
                    </div>
                    <div class="did-not-receieve-container">
                        Did not receive an email?
                        <br />
                        <span class="back-button-span nav-link" onclick="SW.EmailForm.sendEmail()">Re-send email</span>
                    </div>
                </div>
                <div class="next-container">
                    <button onclick="SW.EmailForm.onClose()" class="form-button next-button">Back to game</button>
                </div>
            </div>
        </form>
    </div>



    <!-- iap spinner -->
    <div id="iap-spinner" style="display: none;">
        <div class="inner">
            <img src="https://code.prodigygame.com/assets/images/loading-6a161229c7.png">
        </div>
    </div>

    <div id="warning-div" style="display: none;">
        <div id="warning-panel">
            <img src="https://code.prodigygame.com/assets/images/alert-c51200b90c.png" id="error-icon" />
            <!-- TODO: Localize -->
            <p id="warning-title"></p>
            <p id="warning-text"></p>
        </div>
    </div>
    <div id="leave-game-panel" class="error-panel" style="display: none;">
        <img src="https://code.prodigygame.com/assets/images/alert-c51200b90c.png" id="error-icon" />
        <p class="error-title">Leave Game?</p>
        <p class="error-text">You are about to leave the game and go to the Prodigy FAQ.</p>
        <div id="buttons-div">
            <div id="stay-button" class="button medium-white-button">
                <p class="button-text">Stay</p>
            </div>
            <div id="leave-button" class="button medium-red-button">
                <p class="button-text white">Leave</p>
                <img src="https://code.prodigygame.com/assets/images/arrow-white-4be0b0e250.png" id="error-button-arrow">
            </div>
        </div>
    </div>
    <div id="game-loading-container-div" class="game-loading container">
        <div id="error-div" style="display: none;">
            <div class="error-panel">
                <img src="https://code.prodigygame.com/assets/images/alert-c51200b90c.png" id="error-icon" />
                <p id="error-title" class="error-title"></p>
                <p id="error-text" class="error-text"></p>
                <div id="try-again-button" class="button-wide">
                    <img src="https://code.prodigygame.com/assets/images/arrow-a202566394.png" id="error-button-arrow">
                    <p class="button-text">Back to log in</p>
                </div>
            </div>
        </div>
        <div id="splash-image" class="fadein" style="display: none;"></div>
        <div id="loading-div">
            <div id="ed-progress-outline" class="ed-progress-outline">
                <div id="ed-progress-container" class="ed-progress-container">
                    <div id="bar-animation"></div>
                    <div id="ed-progress-bar" class="ed-progress-bar" style="width: 0%"></div>
                </div>
            </div>
            <div class="game-loading__font" style="display: inline-block; text-align: center; position: relative; width: 100%">
                <div id="loading-text">Loading game</div>
                <div class="dot1">.</div>
                <div class="dot2">.</div>
                <div class="dot3">.</div>
            </div>
            <img class="loading-logo" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB2aWV3Qm94PSIwIDAgOTEgMjYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik04OC4xNTE5IDAuMjI1ODNINTEuNTQxMkM1MC40MDIyIDAuMzU0NTc1IDQ5Ljc3NTcgMS4wNTY1OCA0OS42NjUgMi4zMzgxNVYyMy41NDQ1QzQ5Ljc3NDYgMjQuODI0MSA1MC4zOTk3IDI1LjUyMzQgNTEuNTMxMSAyNS42NTczSDg4LjE2MDlDODkuMjkyNyAyNS41MjM0IDg5LjkxNzQgMjQuODIzNiA5MC4wMjcyIDIzLjU0NDVWMi4zMzgxNUM4OS45MTY4IDEuMDU2NTggODkuMjkwMiAwLjM1NDU3NSA4OC4xNTE5IDAuMjI1ODNaIiBmaWxsPSIjRkY5MDAwIiB0cmFuc2Zvcm09Im1hdHJpeCgxLCAwLCAwLCAxLCAxLjc3NjM1NjgzOTQwMDI1MDVlLTE1LCAwKSIvPgogIDxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNNjIuNDA4NiA5Ljk5OTEzQzYyLjEzNDYgOS42MDgxNSA2MS43Mjc2IDkuMjg2MjkgNjEuMTg2NSA5LjAzNDY3QzYwLjY5NzMgOC44MDcyMiA2MC4xNTQ2IDguNjgzNDQgNTkuNTU4MSA4LjY2MTUzQzU5LjU0NzggOC42NjA4NiA1OS41Mzg0IDguNjYwMTggNTkuNTI4MyA4LjY1OTczQzU4LjI5NjMgOC41OTM1NSA1Ni43MjA1IDguOTU1ODQgNTUuOTg1MSA5LjY2ODkxVjQuNjcyMjRINTMuMDYyVjIwLjA0NDRINTUuOTg1MVYxNC40NjY2QzU1Ljk4NTEgMTMuNTI5NSA1Ni4wNzM4IDEyLjgyMTggNTYuMjUwNiAxMi4zNDMyQzU2LjQyNzcgMTEuODYzNSA1Ni43MDY0IDExLjUwNTQgNTcuMDg4IDExLjI2NzhDNTcuNDY5NCAxMS4wMzA0IDU3LjkwMjYgMTAuOTExMiA1OC4zODg0IDEwLjkxMTJDNTguODExMiAxMC45MTEyIDU5LjE2MzcgMTEuMDA0IDU5LjQ0NDIgMTEuMTg5MkM1OS43MjUgMTEuMzc0NyA1OS45MjExIDExLjYyNDcgNjAuMDMxOCAxMS45MzkxQzYwLjE0MjUgMTIuMjU0IDYwLjE5ODMgMTIuOTk0NiA2MC4xOTgzIDE0LjE2MTlWMjAuMDQ0NEg2My4xMjEyVjEzLjUxMThDNjMuMTIxMiAxMi41MTI0IDYzLjA3MDggMTEuNzc0NyA2Mi45NzAyIDExLjI5OTdDNjIuODY5OCAxMC44MjQgNjIuNjgyMiAxMC4zOTA2IDYyLjQwODYgOS45OTkxM1oiIGZpbGw9ImJsYWNrIiB0cmFuc2Zvcm09Im1hdHJpeCgxLCAwLCAwLCAxLCAxLjc3NjM1NjgzOTQwMDI1MDVlLTE1LCAwKSIvPgogIDxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNNzEuOTQ2OSAxMy42MDYzQzcxLjk0NjkgMTUuMjAwMyA3MS44NzQzIDE2LjIwMTggNzEuNzI4NiAxNi42MTA4QzcxLjU4MjggMTcuMDE5NCA3MS4zMTIzIDE3LjM2MjMgNzAuOTE3IDE3LjYzNzZDNzAuNTIyMiAxNy45MTQ1IDcwLjA3NDUgMTguMDUyMyA2OS41NzUyIDE4LjA1MjNDNjkuMTM4MyAxOC4wNTIzIDY4Ljc3NzMgMTcuOTQ5NSA2OC40OTMxIDE3Ljc0MzFDNjguMjA5IDE3LjUzNjkgNjguMDEyNSAxNy4yNTcyIDY3LjkwNTQgMTYuOTA0QzY3Ljc5NzggMTYuNTUxIDY3Ljc0NDIgMTUuNTkxOSA2Ny43NDQyIDE0LjAyNTVWOC45MDg2OUg2NC44MjExVjE1Ljk1NTNDNjQuODIxMSAxNy4wMDM4IDY0Ljk1MjkgMTcuODI1MyA2NS4yMTU5IDE4LjQxOTNDNjUuNDc5NyAxOS4wMTM4IDY1LjkwNjEgMTkuNDc1MSA2Ni40OTU5IDE5LjgwMzdDNjcuMDg1NSAyMC4xMzIzIDY3Ljc1MSAyMC4yOTY1IDY4LjQ5MzEgMjAuMjk2NUM2OC42MDQxIDIwLjI5NjUgNjguNzE0MSAyMC4yOTI1IDY4LjgyMzIgMjAuMjg0M0M2OC44MjY2IDIwLjI4NDMgNjguODI5IDIwLjI4NDMgNjguODMxOSAyMC4yODM5QzcwLjY5MjMgMjAuMjI5NyA3MS42NjE2IDE5LjM3ODggNzIuMTU0OCAxOC44MThWMjAuMDQ0NUg3NC44Njk4VjguOTA4NjlINzEuOTQ2OVYxMy42MDYzWiIgZmlsbD0iYmxhY2siIHRyYW5zZm9ybT0ibWF0cml4KDEsIDAsIDAsIDEsIDEuNzc2MzU2ODM5NDAwMjUwNWUtMTUsIDApIi8+CiAgPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik04My43NjkzIDE3LjEzNTFDODMuMzE1MyAxNy42OTEgODIuNzY1NiAxNy45NjgxIDgyLjEyMDUgMTcuOTY4MUM4MS4yODExIDE3Ljk2ODEgODAuNjA4NCAxNy41NzY3IDgwLjEwMTkgMTYuNzkzOEM3OS43NDE2IDE2LjI0MTggNzkuNTYxMiAxNS4zODg5IDc5LjU2MTIgMTQuMjM1NEM3OS41NjEyIDEzLjExNjkgNzkuNzkzNiAxMi4yODM1IDgwLjI1ODMgMTEuNzM0OEM4MC43MjI5IDExLjE4NjIgODEuMzA1NSAxMC45MTE4IDgyLjAwNiAxMC45MTE4QzgyLjcyMDMgMTAuOTExOCA4My4zMDY1IDExLjE5MzIgODMuNzY0MyAxMS43NTU2Qzg0LjIyMTkgMTIuMzE4MiA4NC40NTA5IDEzLjIzNjIgODQuNDUwOSAxNC41MDc2Qzg0LjQ1MDkgMTUuNzAzOCA4NC4yMjM5IDE2LjU3ODggODMuNzY5MyAxNy4xMzUxWk04Ni4xMjU1IDEwLjEzQzg1LjUwMzkgOS40Mzc5NyA4NC42Njk1IDguOTkzOTEgODMuNzYwNCA4Ljc4OTcyQzgzLjUgOC43MTk5MyA4My4yMDI2IDguNjcwMjQgODIuODcxOSA4LjY1NTc4QzgxLjY2OTcgOC41NDU1NiA4MC4xMjU1IDkuMDMwMjcgNzkuNDA3NiA5LjYzNzY0TDc5LjU4MTcgNC42NzIzNkg3Ni42NTgzVjIwLjA0NUg3OS4zNzRWMTkuMTk4MkM4MC4wMDAxIDE5LjcwNjQgODEuMDA0OCAyMC4yOTY0IDgyLjUzNiAyMC4yOTY0QzgyLjU5NiAyMC4yOTY0IDgyLjY1MyAyMC4yOTU5IDgyLjcwODEgMjAuMjk0NkM4Mi43NDggMjAuMjk1OSA4Mi43ODc2IDIwLjI5NjQgODIuODI3NSAyMC4yOTY0Qzg0LjExMDYgMjAuMjk2NCA4NS4yMDE0IDE5Ljc4MjMgODYuMDk5MyAxOC43NTUxQzg2Ljk5NzQgMTcuNzI2OSA4Ny40NDYxIDE2LjI2MyA4Ny40NDYxIDE0LjM2MTdDODcuNDQ2MSAxMi41MjI3IDg3LjAwNTcgMTEuMTEyNiA4Ni4xMjU1IDEwLjEzWiIgZmlsbD0iYmxhY2siIHRyYW5zZm9ybT0ibWF0cml4KDEsIDAsIDAsIDEsIDEuNzc2MzU2ODM5NDAwMjUwNWUtMTUsIDApIi8+CiAgPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik04LjU4NDAyIDkuODU2MDVDOC4zMzk3NyAxMC4yMTY1IDguMDAyNTMgMTAuNDgxMyA3LjU3MjA3IDEwLjY1QzcuMTQxNjEgMTAuODE4OSA2LjI4NzYzIDEwLjkwMzYgNS4wMTE0OSAxMC45MDM2SDMuMjM4NzhWNi4zMTUzNEg0LjgwMzc2QzUuOTcwNzggNi4zMTUzNCA2Ljc0NzY3IDYuMzUyMzggNy4xMzQ0NCA2LjQyNTU2QzcuNjU5NjggNi41MjE1NSA4LjA5MzUgNi43NjAzIDguNDM2NTcgNy4xNDI0N0M4Ljc3OTE5IDcuNTI1MDkgOC45NTA4NCA4LjAxMDAzIDguOTUwODQgOC41OTg0MkM4Ljk1MDg0IDkuMDc2MzUgOC44Mjg0OSA5LjQ5NTU3IDguNTg0MDIgOS44NTYwNVpNOS4wNDkzMSAzLjgyMjY0QzguNDUxMjQgMy42NjA3IDcuMTY3MjUgMy41Nzk4MyA1LjE5NzU3IDMuNTc5ODNIMFYxOS43NDkzSDMuMjM4ODhWMTMuNjUwMkg1LjM1MDYyQzYuODE3MDEgMTMuNjUwMiA3LjkzNjc1IDEzLjU3MjcgOC43MDk4MyAxMy40MTg1QzkuMjc5NDQgMTMuMjkzMyA5LjgzODk3IDEzLjAzNzYgMTAuMzkgMTIuNjUxOUMxMC45NDAzIDEyLjI2NjEgMTEuMzk0MyAxMS43MzQ2IDExLjc1MjIgMTEuMDU3N0MxMi4xMDk2IDEwLjM4MTkgMTIuMjg4NCA5LjU0NzI5IDEyLjI4ODQgOC41NTQxNEMxMi4yODg0IDcuMjY3NTkgMTEuOTc4MSA2LjIxNzk4IDExLjM1ODIgNS40MDUzMUMxMC43MzggNC41OTMwOCA5Ljk2ODI3IDQuMDY1MjMgOS4wNDkzMSAzLjgyMjY0WiIgZmlsbD0id2hpdGUiIHRyYW5zZm9ybT0ibWF0cml4KDEsIDAsIDAsIDEsIDEuNzc2MzU2ODM5NDAwMjUwNWUtMTUsIDApIi8+CiAgPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0yMC45NjI0IDE2LjU2MjJDMjAuNDE4NSAxNy4xNzk3IDE5Ljc0NTYgMTcuNDg4NSAxOC45NDM0IDE3LjQ4ODVDMTguMTQwNyAxNy40ODg1IDE3LjQ2NiAxNy4xNzk3IDE2LjkxODggMTYuNTYyMkMxNi4zNzE4IDE1Ljk0NDIgMTYuMDk4NCAxNS4wNTQzIDE2LjA5ODQgMTMuODkyOUMxNi4wOTg0IDEyLjczMSAxNi4zNzE4IDExLjg0MTMgMTYuOTE4OCAxMS4yMjM1QzE3LjQ2NiAxMC42MDYgMTguMTQwNyAxMC4yOTczIDE4Ljk0MzQgMTAuMjk3M0MxOS43NDU2IDEwLjI5NzMgMjAuNDE4NSAxMC42MDYgMjAuOTYyNCAxMS4yMjM1QzIxLjUwNTggMTEuODQxMyAyMS43NzczIDEyLjcyNCAyMS43NzczIDEzLjg3MDlDMjEuNzc3MyAxNS4wNDc3IDIxLjUwNTggMTUuOTQ0MiAyMC45NjI0IDE2LjU2MjJaTTE4LjkzMjIgNy43NzE2MUMxNy43OTQzIDcuNzcxNjEgMTYuNzY0IDguMDI1MDMgMTUuODQxNSA4LjUzMjc4QzE0LjkxOCA5LjAzOTg2IDE0LjIwNTQgOS43NzUwNiAxMy43MDE5IDEwLjczODRDMTMuMTk4NiAxMS43MDE3IDEyLjk0NjggMTIuNjk4IDEyLjk0NjggMTMuNzI3NUMxMi45NDY4IDE1LjA3MyAxMy4xOTg2IDE2LjIxNDggMTMuNzAxOSAxNy4xNTE5QzE0LjIwNTQgMTguMDg5NyAxNC45NCAxOC44MDEyIDE1LjkwNjkgMTkuMjg1OUMxNi44NzM0IDE5Ljc3MTEgMTcuODg5MyAyMC4wMTQ2IDE4Ljk1NDQgMjAuMDE0NkMyMC42NzU4IDIwLjAxNDYgMjIuMTAzOSAxOS40MzE0IDIzLjIzODIgMTguMjY1OUMyNC4zNzI1IDE3LjEwMDcgMjQuOTM5OCAxNS42MzE4IDI0LjkzOTggMTMuODU5MkMyNC45Mzk4IDEyLjEwMjQgMjQuMzc4MyAxMC42NDggMjMuMjU0OCA5LjQ5NzdDMjIuMTMxIDguMzQ3MTIgMjAuNjkwNCA3Ljc3MTYxIDE4LjkzMjIgNy43NzE2MVoiIGZpbGw9IndoaXRlIiB0cmFuc2Zvcm09Im1hdHJpeCgxLCAwLCAwLCAxLCAxLjc3NjM1NjgzOTQwMDI1MDVlLTE1LCAwKSIvPgogIDxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNIDMxLjU3NiA3LjgxNiBDIDMwLjY2NiA3LjkzMyAyOS43OTcgOC42NzMgMjkuNDE3IDkuMTQ0IEwgMjkuNDE3IDguMDM2IEwgMjYuNTYgOC4wMzYgTCAyNi41NiAxOS43NDkgTCAyOS42MzUgMTkuNzQ5IEwgMjkuNjM1IDE2LjEzMiBDIDI5LjYzNSAxNC4xMzkgMjkuNzIxIDEyLjgzMSAyOS44OTIgMTIuMjA1IEMgMzAuMDY0IDExLjU4IDMwLjI5OSAxMS4xNDkgMzAuNTk4IDEwLjkwOSBDIDMwLjg5NyAxMC42NzEgMzEuMjYyIDEwLjU1MSAzMS42OTMgMTAuNTUxIEMgMzIuMTM3IDEwLjU1MSAzMi42MTkgMTAuNzIgMzMuMTM3IDExLjA1OCBMIDM0LjA4OSA4LjM1NiBDIDMzLjQ0IDcuOTY2IDMyLjc2NSA3Ljc3MiAzMi4wNjQgNy43NzIgQyAzMS44OTUgNy43NzIgMzEuNzMzIDcuNzg3IDMxLjU3NiA3LjgxNiBaIiBmaWxsPSJ3aGl0ZSIgdHJhbnNmb3JtPSJtYXRyaXgoMSwgMCwgMCwgMSwgMS43NzYzNTY4Mzk0MDAyNTA1ZS0xNSwgMCkiLz4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTQ2LjEyMzcgMTAuMzg1NUM0Ni4wMTA1IDkuOTAwMzQgNDUuODEwMiA5LjQ2NjIyIDQ1LjUyMjQgOS4wODM4M0M0NS4yMzM2IDguNzAxNDMgNDQuODA4NyA4LjM4NzI1IDQ0LjI0NzIgOC4xNDEwNUM0My42ODUyIDcuODk0NjMgNDMuMDY1NCA3Ljc3MTc2IDQyLjM4NjYgNy43NzE3NkM0MS4xNTY0IDcuNzAxMjggMzkuMTYwMyA4LjE3NDcxIDM4LjU1NzEgOS4xMzczNlY4LjAzNjAySDM1LjcwMTJWMTkuNzQ5NEgzOC43NzZWMTQuNDQ0NEMzOC43NzYgMTMuMTM1NyAzOC44NTQ0IDEyLjIzODMgMzkuMDExMSAxMS43NTM2QzM5LjE2NzcgMTEuMjY3OCAzOS40NTgxIDEwLjg3ODQgMzkuODgxMiAxMC41ODM4QzQwLjMwNDMgMTAuMjg5NyA0MC43ODIgMTAuMTQyNyA0MS4zMTQ0IDEwLjE0MjdDNDEuNzMwMyAxMC4xNDI3IDQyLjA4NTcgMTAuMjQ2MSA0Mi4zODEzIDEwLjQ1MTVDNDIuNjc3MSAxMC42NTcyIDQyLjg5MDYgMTAuOTQ2MyA0My4wMjE3IDExLjMxNzRDNDMuMTUzIDExLjY4OTIgNDMuMjE4NyAxMi41MDY5IDQzLjIxODcgMTMuNzcxNVYxOS43NDk0SDQ2LjI5MzFWMTIuNDcwMUM0Ni4yOTMxIDExLjU2NTQgNDYuMjM2NiAxMC44NzA3IDQ2LjEyMzcgMTAuMzg1NVoiIGZpbGw9IndoaXRlIiB0cmFuc2Zvcm09Im1hdHJpeCgxLCAwLCAwLCAxLCAxLjc3NjM1NjgzOTQwMDI1MDVlLTE1LCAwKSIvPgo8L3N2Zz4=">
        </div>
    </div>
    <div id="game-wrapper">
        <div id='game-container'>
        </div>
        <div id='external-content'></div>
        <div id='external-ui'></div>
        <div id='notices'></div>
        <div id='popups'>
            <div id='dynamic-popups'></div>
        </div>
    </div>
    <div id="membership-flow" class="game-page-overlay"></div>
    <div id="game-page-overlay" class="game-page-overlay"></div>

    <script>
        SW.Load.loadGame();

        if (!SW.Device.isWebGLSupported()) {
            ++SW.Load.loadSemaphore; // never load
            SW.Load.setOldDeviceErrorScreen();
        }
    </script>

    <iframe id="bypasser" src="https://math.prodigygame.com/..%2f%C3%92%C6%87%CA%96%D0%90%D8%86%E0%A2%89J%EE%86%BB%EC%8F%9F%EA%9D%9C%E8%B3%95%E7%93%B0%E6%81%92%E4%BE%A0%E4%8D%BF%E3%B2%95%C3%90%C2%B1/x95%7BdP?0">
        Your browser doesn't support iframes
    </iframe>

    <script onload="SW.Load.updateProgressBar(10);" src="https://code.prodigygame.com/lib/easystar-c4a409057f.min.js?v=1" crossorigin="anonymous" integrity="sha512-RxvuGN2krcsWFpyqqzoQ3BsFfJOqLY+Fpfth9y24AuhgczJq8/4YPqcp/cpnB89mhe37xVjnhm5JlEESqHgi8Q=="></script>
    <script onload="SW.Load.updateProgressBar(15);" src="https://code.prodigygame.com/lib/inversify-2c041508d4.min.js?v=1" crossorigin="anonymous" integrity="sha512-4T92M8ASea26swmMdfyWpiEBY/eC9lMkQCFyDuBRF3RshMdaJkPcoRI+2jtx5/LvQL8xegH4Nr4SD0xJykbKFQ=="></script>
    <script onload="SW.Load.updateProgressBar(20);" src="https://code.prodigygame.com/lib/webfont-9ea87c57dc.min.js?v=1" crossorigin="anonymous" integrity="sha512-5zJOkNfDssivx6fT2Yxz93kq60epMb4xgY5clLjJlZqrc09mhntBls+OY3TQ5mJJcel8pzFnWTQN3P7b5rTP6w=="></script>
    <script onload="SW.Load.updateProgressBar(30);" src="https://code.prodigygame.com/lib/crypto-core-1b15c3f6cc.min.js?v=1" crossorigin="anonymous" integrity="sha512-o7sqE3H6i5jonvmFiKnpieJJFJ8yAiq9ojqQGrxt+Jm1jKxM7Vh7Hvu5nxBMLODDciB+VIwCW27ZnPQCjW5ptw=="></script>
    <script onload="SW.Load.updateProgressBar(40);" src="https://code.prodigygame.com/lib/lz-string-56881ebd3b.min.js?v=1" crossorigin="anonymous" integrity="sha512-H65l9V2YEHljvaKtFD4KDzE35rBbaOygaMMOCpcapssbw1hkaBdj8XtpWp5GJcJDduufbStwoBuzgGezPPpbXg=="></script>
    <script onload="SW.Load.updateProgressBar(45); SW.Load.loadFonts();" src="https://code.prodigygame.com/lib/crypto-libs-306070295f.min.js?v=1" crossorigin="anonymous" integrity="sha512-SkYjHf/iKGOAzj+a2etEp/Ir80YMHkRE5BO8CRUl113eNVx4Cf272333kLz0dSesHYtAps84eQtyDk7CAVzgkw=="></script>
    <script>
        function patchCode(code){
            const app = code.match(/window,function\((.)/)[1];
            const game = code.match(/var (.)={}/)[1];
            const playerContainer = code.match(/(.)\.walkSpeed=1\.5/)[1];
            
            const patches = [
                // walkspeed
                [`${playerContainer}.walkSpeed=1.5`,`(Object.defineProperties(${playerContainer},{walkSpeed:{get:()=>globalThis._.constants.get("GameConstants.Debug.WalkSpeed")||1.5,set:()=>console.log}}))`],
                
                // protobuf
                [`);${game}.protobuf=`, `);Object.defineProperties(globalThis._, {protobuf:{get:() =>${game}.protobuf}}); ${game}.protobuf=`],

                // app.instance API
                [`s),this._game=${game}`, `s),this._game=${game};

                    let NotLodash = window._;
                    let lodashChecker = setInterval(() => {
                        if (NotLodash !== window._) {
                            window._ = NotLodash;
                            clearInterval(lodashChecker);
                        }
                    })

                    Object.defineProperty(window._, "instance", { 
                        get: () => ${app}.instance,
                        enumerable: true,
                        configurable: true
                    })
                `],
                
                // network
                [`{this._sessionTokenAuthProvider=null,`,`{top._.network=this,this._sessionTokenAuthProvider=null,`],    

                // app.constants API
                [`${app}.constants=Object`, `
                    window._.constants=${app},
                    ${app}.constants=Object`
                ],

                // modules API
                [`window,function(${app}){var ${game}={};`, `window,function(${app}){var ${game}={};
                    window._.modules=${game};
                `],

                // hasMembership API 
                [`${app}.prototype.hasMembership=`,
                    `${game}.prototype.hasMembership = (_) => true,
                    ${game}.prototype.originalHasMembership=`
                ],

                // answerQuestion API
                [`answerQuestion=function(){`,
                    `answerQuestion=function(){
                        if (!_.constants.get('GameConstants.Debug.EDUCATION_ENABLED')) {
                            const wasCorrect = Math.random() < _.constants.get('GameConstants.Debug.AUTO_ANSWER_CORRECT_PERCENT');
                            this.onQuestionAnswered.dispatch(wasCorrect, 0, null);
                            if (wasCorrect) {
                                this.onQuestionAnsweredCorrectly.dispatch(0, null);
                            } else {
                                this.onQuestionAnsweredIncorrectly.dispatch(0, null);
                            }
                            return;
                        }
                `],

                // Fix EducationEnabled
                [/type\.sendEvent=function\((.), (.), (.)\) \{/, `type.sendEvent=function($1, $2, $3) {
                    if (!_.constants.get('GameConstants.Debug.EDUCATION_ENABLED')) {
                        return;
                    }
                `],


                // Fix EducationEnabled part 2
                [/(var .=this.findParameter("externalFactory"))/, `
                    if (!_.constants.get('GameConstants.Debug.EDUCATION_ENABLED')) {
                        const wasCorrect: boolean = Math.random() < _.constants.get('GameConstants.Debug.AUTO_ANSWER_CORRECT_PERCENT');
                        this.finish({ answerCorrect: wasCorrect, responseTime: 0 });
                        return;
                    }
                    $1`
                ],

                // Tower Town Question API
                [/openQuestionInterfaceThenEmitNotifications=function\((.), (.), (.), (.), (.)\) \{/, `openQuestionInterfaceThenEmitNotifications=function($1, $2, $3, $4, $5) {
                    if (!_.constants.get('GameConstants.Debug.EDUCATION_ENABLED')) {
                        const wasCorrect = true;
                        const skill = {};
                        const questionAnswerResponse = { eventType, skill, wasCorrect };
                        this.fireEvent(MathTowerNotificationType.TOWER_TOWN_QUESTION_ANSWERED, questionAnswerResponse);
                        if (callback) {
                            callback(wasCorrect, 10, 1, false, false, skill);
                        }
                        return;
                    }
                `],

                // Fix setContentVisible
                [/.\.setContentVisible\(!1\)\}\)/,
                    "})"
                ]
                
            ];

            String.prototype.replaceAll = function(search, replacement) {
                var target = this;
                return target.split(search).join(replacement);
            };

            for (let patch of patches) {
                const from = patch[0];
                const to = patch[1];
                console.log(from, to);
                code = code.replaceAll(from, to);
            };

            const prepend = `\nglobalThis._.variables = Object.create(null);\nglobalThis._.functions = Object.create(null);\n`

            const append = `

                function waitForInstance() {
                    if (_.instance) {
                        var enumerable = true;
                        console.log("Found Instance")
                var configurable = true;

                Object.defineProperties(globalThis._, {

                    game: {
                        get: () => _.instance._game,
                        enumerable,
                        configurable
                    },
                    gameData: {
                        get: () => _.game.state.states.get("Boot")._gameData,
                        enumerable,
                        configurable
                    },


                    prodigy: {
                        get: () => _.instance._prodigy,
                        enumerable,
                        configurable
                    },
                    localizer: {
                        get: () => _.prodigy.gameContainer.get("LocalizationService"),
                        enumerable,
                        configurable
                    },


                    player: {
                        get: () => _.${code.match(new RegExp("instance.prodigy.gameContainer.get\\(\"...-....\"\\).player"))?.[0]},
                        enumerable,
                        configurable
                    }
                });

                Object.defineProperties(globalThis._.functions, {
                    escapeBattle: {
                        get: () => () => {
                            switch (_.instance.game.state.current) {
                                case "PVP": return _.instance.game.state.states.PVP.endPVP();
                                case "CoOp": return _.instance.prodigy.world.$(_.player.data.zone);
                                default: return _.instance.game.state.callbackContext.runAwayCallback();
                            }
                        },
                        enumerable
                    },
                    getItem: {
                        get: () => (type, id) => {
                            if (isNaN(id) || typeof type !== "string") return null;
                            return _.gameData[type].find(item => item.ID === id) ?? null;
                        },
                        enumerable
                    }
                });

                delete enumerable;
                delete configurable;



                _.variables.states = Object.fromEntries(_.game.state.states);

                _.network.api.httpClient._defaultResponseHandler.get("418").func = () => {
                    return document.dispatchEvent(new CustomEvent("pxporigin_418"));
                };

                top._ = globalThis._;

                console.log("patched gamefile loaded");
                    } else {
                    setTimeout(waitForInstance, 100);
                    }
                }
                
                waitForInstance();
            `;

                return prepend + code + append;
        }

        document.getElementById("bypasser").onload = async function (){
            bypasser = document.getElementById("bypasser")

            window.modlist = (await bypasser.contentWindow.fetch("https://pxporigin.gemsvido.workers.dev/mods/all.json"))
            window.code = (await (await bypasser.contentWindow.fetch(window.gamecodeurl)).text());
            window.guicode = (await (await bypasser.contentWindow.fetch("https://pxporigin.gemsvido.workers.dev/cgui/cgui-prod-extension.min.js")).text());

            try{
                eval(patchCode(window.code)+'\nSW.Load.decrementLoadSemaphore();');
                eval((window.guicode).replace(/\(0,..\.default\)\(`\$\{..\}\/mods\/all\.json`,\{method:"GET",headers:\[\["sid",..\]\]\}\);/, "window.modlist;"));
            }
            catch(ex) {
                console.log(ex)
            }
        }
    </script>
</body>

</html>